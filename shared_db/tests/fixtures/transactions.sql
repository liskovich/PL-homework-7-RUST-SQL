CREATE EXTENSION IF NOT EXISTS "uuid-ossp";

CREATE TABLE IF NOT EXISTS money_transactions (
  id UUID PRIMARY KEY NOT NULL DEFAULT (uuid_generate_v4()),
  item_id UUID NOT NULL,
  amount BIGINT NOT NULL,
  reduces_balance BOOLEAN NOT NULL,
  created_at BIGINT DEFAULT CAST(EXTRACT(EPOCH FROM NOW()) AS INTEGER),
  updated_at BIGINT DEFAULT CAST(EXTRACT(EPOCH FROM NOW()) AS INTEGER)
);

INSERT INTO money_transactions (id, item_id, amount, reduces_balance)
VALUES
  ('23d232cc-7520-4d40-9821-8b5c22fcaf18', '00000000-0000-0000-0000-000000000000', 100, FALSE),
  ('e3e68b7b-72f4-4862-b959-5d57ab75c8ea', '00000000-0000-0000-0000-000000000000', 10, TRUE);